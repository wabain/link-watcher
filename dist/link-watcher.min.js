!function(e,t){"use strict";if("function"==typeof define&&define.amd)define([],function(){return t({},e)});else if("undefined"!=typeof exports)t(exports,e);else var r=function(){return e.LinkWatcher=n,a},n=e.LinkWatcher,a=e.LinkWatcher=t({noConflict:r},e)}(function(){return this}(),function(e,t){"use strict";function r(e,r,a){a=a||{};var o=a.rootHref||t.location.href,i=n(o,r);return e.jquery?e.on("click",i):e.addEventListener("click",i,!1),i}function n(e,t){var r=h(e);return function(e){var n=a(e,r);n&&t(e,n)}}function a(e,t){var r=o(e.target,e.currentTarget);if(!r||"string"!=typeof r.getAttribute("href"))return null;var n,a,c,u=h(r.href),f=u.pathname,s=t.pathname,l=!1;if(u.protocol!==t.protocol||u.host.toLowerCase()!==t.host.toLowerCase()||s!==f.substr(0,s.length))n=!1,a=null,c=!1;else{n=f.length===s.length||"/"===f.charAt(s.length)||"/"===s.charAt(s.length-1),a=f.substring(s.length),"/"===a.charAt(0)?("/"===s.charAt(s.length-1)?a="/"+a:"/"!==a.charAt(1)&&(a=a.substring(1)),"/"===a.charAt(0)&&(a="."+a)):""===a&&r.getAttribute("href").indexOf("#")>=0&&(l=!0);var p=e.isDefaultPrevented?e.isDefaultPrevented():e.defaultPrevented;c=!(p||e.ctrlKey||e.metaKey||2===e.which||r.getAttribute("target"))}return i(u,{anchor:r,isRelative:n,relativePath:a,isLocalNavigation:c,isFragmentNavigation:l}),u}function o(e,t){for(;e&&e!==t;){if("A"===e.nodeName.toUpperCase())return e;e=e.parentElement}return null}function i(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}function h(e){var t=e;return c&&(u.setAttribute("href",t),t=u.href),u.setAttribute("href",t),{href:u.href,protocol:u.protocol?u.protocol.replace(/:$/,""):"",host:u.host,search:u.search?u.search.replace(/^\?/,""):"",hash:u.hash?u.hash.replace(/^#/,""):"",hostname:u.hostname,port:u.port,pathname:"/"===u.pathname.charAt(0)?u.pathname:"/"+u.pathname}}e.onLinkClicked=r,e.getNavigationInfo=a,e.urlResolve=h;var c=document.documentMode,u=document.createElement("a");return e});
//# sourceMappingURL=dist/link-watcher.min.js.map